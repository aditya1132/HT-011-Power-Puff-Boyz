<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>AI Mental Health Companion - Modern Demo</title>

        <!-- Tailwind CSS via CDN -->
        <script src="https://cdn.tailwindcss.com"></script>

        <!-- Custom Tailwind Configuration -->
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        colors: {
                            medical: {
                                50: "#f0f7ff",
                                100: "#e0effe",
                                200: "#bae0fd",
                                500: "#3b82f6",
                                600: "#2563eb",
                                700: "#1d4ed8",
                                800: "#1e40af",
                                900: "#1e3a8a",
                            },
                            wellness: {
                                sage: "#f1f8f6",
                                mint: "#dcfce7",
                                emerald: "#10b981",
                            },
                        },
                        boxShadow: {
                            medical:
                                "0 4px 20px -2px rgba(0, 0, 0, 0.05), 0 2px 10px -2px rgba(0, 0, 0, 0.03)",
                            "medical-hover":
                                "0 10px 30px -5px rgba(0, 0, 0, 0.08), 0 4px 15px -5px rgba(0, 0, 0, 0.04)",
                        },
                    },
                },
            };
        </script>

        <!-- Font Awesome for icons -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />

        <!-- Google Fonts: Plus Jakarta Sans for a modern feel -->
        <link
            href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap"
            rel="stylesheet"
        />

        <!-- Animate.css for quick entrance animations -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
        />

        <style>
            /* Base Fallback Styles (in case CDN fails) */
            :root {
                --medical-primary: #3b82f6;
                --medical-dark: #1e40af;
                --wellness-sage: #f1f8f6;
                --slate-100: #f1f5f9;
                --slate-500: #64748b;
                --slate-800: #1e293b;
                --slate-900: #0f172a;
            }

            body {
                font-family:
                    "Plus Jakarta Sans",
                    system-ui,
                    -apple-system,
                    sans-serif;
                line-height: 1.5;
                margin: 0;
                color: var(--slate-800);
                scroll-behavior: smooth;
            }

            .hidden {
                display: none;
            }
            @media (min-width: 768px) {
                .md\:flex {
                    display: flex !important;
                }
                .md\:hidden {
                    display: none !important;
                }
            }

            /* Essential Animations */
            @keyframes fadeIn {
                from {
                    opacity: 0;
                }
                to {
                    opacity: 1;
                }
            }
            @keyframes slideInUp {
                from {
                    transform: translateY(20px);
                    opacity: 0;
                }
                to {
                    transform: translateY(0);
                    opacity: 1;
                }
            }

            .animate-fade {
                animation: fadeIn 0.5s ease-out;
            }
            .animate-slide-up {
                animation: slideInUp 0.5s ease-out;
            }

            .glass-morphism {
                background: rgba(255, 255, 255, 0.8);
                backdrop-filter: blur(12px);
                -webkit-backdrop-filter: blur(12px);
                border: 1px solid rgba(255, 255, 255, 0.3);
            }

            .medical-gradient {
                background: linear-gradient(135deg, #f0f7ff 0%, #ffffff 100%);
            }

            .nav-link-active {
                position: relative;
                color: #2563eb;
            }

            .nav-link-active::after {
                content: "";
                position: absolute;
                bottom: -2px;
                left: 0;
                width: 100%;
                height: 2px;
                background-color: #2563eb;
                border-radius: 2px;
                animation: expandWidth 0.3s ease-out;
            }

            @keyframes expandWidth {
                from {
                    width: 0;
                }
                to {
                    width: 100%;
                }
            }

            .chat-bubble {
                max-width: 85%;
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }

            .chat-bubble:hover {
                transform: translateY(-1px);
            }

            /* Modern Scrollbar */
            ::-webkit-scrollbar {
                width: 6px;
            }
            ::-webkit-scrollbar-track {
                background: #f1f5f9;
            }
            ::-webkit-scrollbar-thumb {
                background: #cbd5e1;
                border-radius: 10px;
            }
            ::-webkit-scrollbar-thumb:hover {
                background: #94a3b8;
            }

            .breathing-animation {
                animation: breathe 8s infinite ease-in-out;
            }

            @keyframes breathe {
                0%,
                100% {
                    transform: scale(1);
                    opacity: 0.8;
                }
                50% {
                    transform: scale(1.4);
                    opacity: 1;
                }
            }

            .pulse-soft {
                animation: pulse-soft 2s infinite;
            }

            @keyframes pulse-soft {
                0% {
                    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.2);
                }
                70% {
                    box-shadow: 0 0 0 10px rgba(59, 130, 246, 0);
                }
                100% {
                    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
                }
            }

            .section-transition {
                transition:
                    opacity 0.4s ease,
                    transform 0.4s ease;
            }

            .hidden-section {
                opacity: 0;
                transform: translateY(10px);
                pointer-events: none;
                display: none;
            }

            .visible-section {
                opacity: 1;
                transform: translateY(0);
                display: block;
            }
        </style>
    </head>
    <body
        class="medical-gradient min-h-screen text-slate-800 antialiased overflow-x-hidden"
    >
        <!-- Top Navigation Bar -->
        <nav
            class="sticky top-0 z-50 glass-morphism border-b border-slate-100 shadow-sm"
        >
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16 items-center">
                    <div
                        class="flex items-center space-x-3 group cursor-pointer"
                    >
                        <div
                            class="w-10 h-10 bg-medical-600 rounded-xl flex items-center justify-center shadow-lg group-hover:rotate-12 transition-transform duration-300"
                        >
                            <i
                                class="fas fa-heart-pulse text-white text-xl"
                            ></i>
                        </div>
                        <div>
                            <h1
                                class="text-lg font-bold text-slate-900 tracking-tight leading-none"
                            >
                                MindCare AI
                            </h1>
                            <span
                                class="text-[10px] font-semibold text-medical-600 uppercase tracking-widest"
                                >Medical Companion</span
                            >
                        </div>
                    </div>

                    <!-- Desktop Nav -->
                    <div class="hidden md:flex items-center space-x-8">
                        <button
                            onclick="showSection('chat')"
                            id="nav-chat"
                            class="nav-link nav-link-active text-sm font-semibold transition-colors"
                        >
                            Chat
                        </button>
                        <button
                            onclick="showSection('mood')"
                            id="nav-mood"
                            class="nav-link text-slate-500 hover:text-medical-600 text-sm font-semibold transition-colors"
                        >
                            Mood Tracker
                        </button>
                        <button
                            onclick="showSection('tools')"
                            id="nav-tools"
                            class="nav-link text-slate-500 hover:text-medical-600 text-sm font-semibold transition-colors"
                        >
                            Resources
                        </button>
                        <button
                            onclick="showSection('dashboard')"
                            id="nav-dashboard"
                            class="nav-link text-slate-500 hover:text-medical-600 text-sm font-semibold transition-colors"
                        >
                            Analytics
                        </button>
                    </div>

                    <!-- Mobile Menu Button -->
                    <div class="md:hidden">
                        <button class="text-slate-500 p-2" id="mobile-menu-btn">
                            <i class="fas fa-bars text-xl"></i>
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Content Area -->
        <main
            class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 animate__animated animate__fadeIn"
        >
            <!-- Safety Alert (Removable) -->
            <div
                class="mb-8 p-4 bg-blue-50/80 border border-blue-100 rounded-2xl flex items-start space-x-4 animate__animated animate__slideInDown"
                id="safety-alert"
            >
                <div
                    class="flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"
                >
                    <i class="fas fa-info-circle text-blue-600"></i>
                </div>
                <div class="flex-1">
                    <h3 class="text-sm font-bold text-blue-900">
                        Medical Notice
                    </h3>
                    <p class="text-sm text-blue-800/80 leading-relaxed">
                        This platform is an educational resource and supportive
                        tool. For immediate mental health support, contact
                        <span class="font-bold underline decoration-blue-300"
                            >988</span
                        >
                        or text <span class="font-bold">HOME</span> to
                        <span class="font-bold">741741</span>.
                    </p>
                </div>
                <button
                    onclick="document.getElementById('safety-alert').remove()"
                    class="text-blue-400 hover:text-blue-600"
                >
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Chat Section -->
            <div id="chat-section" class="section-transition visible-section">
                <div class="grid lg:grid-cols-12 gap-8 h-[calc(100vh-16rem)]">
                    <!-- Left: Chat Interface -->
                    <div
                        class="lg:col-span-8 flex flex-col bg-white rounded-3xl shadow-medical border border-slate-100 overflow-hidden h-full"
                    >
                        <div
                            class="px-6 py-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/30"
                        >
                            <div class="flex items-center space-x-3">
                                <div class="relative">
                                    <div
                                        class="w-10 h-10 bg-medical-100 rounded-full flex items-center justify-center"
                                    >
                                        <i
                                            class="fas fa-robot text-medical-600"
                                        ></i>
                                    </div>
                                    <div
                                        class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"
                                    ></div>
                                </div>
                                <div>
                                    <h2
                                        class="text-sm font-bold text-slate-900"
                                    >
                                        Dr. Aurora
                                    </h2>
                                    <p
                                        class="text-[11px] text-slate-500 font-medium"
                                    >
                                        AI Wellness Guide â€¢ Always listening
                                    </p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <button
                                    class="w-8 h-8 flex items-center justify-center text-slate-400 hover:text-slate-600 transition-colors"
                                >
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                            </div>
                        </div>

                        <div
                            id="chat-messages"
                            class="flex-1 overflow-y-auto p-6 space-y-6 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] bg-opacity-5"
                        >
                            <!-- Bot Message -->
                            <div
                                class="flex items-start space-x-3 animate__animated animate__fadeInUp"
                            >
                                <div
                                    class="w-8 h-8 bg-medical-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-1"
                                >
                                    <i
                                        class="fas fa-robot text-medical-500 text-xs"
                                    ></i>
                                </div>
                                <div
                                    class="chat-bubble bg-medical-50 text-slate-800 px-5 py-3 rounded-2xl rounded-tl-none border border-medical-100 shadow-sm"
                                >
                                    <p
                                        class="text-sm leading-relaxed font-medium"
                                    >
                                        Hello there. I'm Aurora, your mental
                                        health companion. How are you feeling in
                                        this moment?
                                    </p>
                                    <span
                                        class="text-[10px] text-medical-400 mt-2 block font-semibold"
                                        >AURORA â€¢ 12:45 PM</span
                                    >
                                </div>
                            </div>
                        </div>

                        <div class="p-4 border-t border-slate-100 bg-white">
                            <div class="flex flex-wrap gap-2 mb-4 px-2">
                                <button
                                    onclick="
                                        sendQuickMessage(
                                            'I feel overwhelmed today',
                                        )
                                    "
                                    class="text-xs font-semibold px-3 py-1.5 rounded-full bg-slate-50 text-slate-600 hover:bg-medical-50 hover:text-medical-600 border border-slate-200 hover:border-medical-200 transition-all"
                                >
                                    ðŸŒŠ Feeling Overwhelmed
                                </button>
                                <button
                                    onclick="
                                        sendQuickMessage(
                                            'Help me practice mindfulness',
                                        )
                                    "
                                    class="text-xs font-semibold px-3 py-1.5 rounded-full bg-slate-50 text-slate-600 hover:bg-medical-50 hover:text-medical-600 border border-slate-200 hover:border-medical-200 transition-all"
                                >
                                    âœ¨ Mindfulness Help
                                </button>
                                <button
                                    onclick="
                                        sendQuickMessage(
                                            'I have a small victory to share!',
                                        )
                                    "
                                    class="text-xs font-semibold px-3 py-1.5 rounded-full bg-slate-50 text-slate-600 hover:bg-medical-50 hover:text-medical-600 border border-slate-200 hover:border-medical-200 transition-all"
                                >
                                    ðŸŒ± Small Victory
                                </button>
                            </div>
                            <div
                                class="flex items-center space-x-3 bg-slate-50 p-2 rounded-2xl border border-slate-200 focus-within:ring-2 focus-within:ring-medical-200 focus-within:border-medical-400 transition-all"
                            >
                                <input
                                    type="text"
                                    id="chat-input"
                                    class="flex-1 bg-transparent border-none focus:ring-0 text-sm px-4 placeholder:text-slate-400 font-medium"
                                    placeholder="Type what's on your mind..."
                                    onkeypress="handleChatKeyPress(event)"
                                />
                                <button
                                    onclick="sendChatMessage()"
                                    class="w-10 h-10 bg-medical-600 hover:bg-medical-700 text-white rounded-xl shadow-lg shadow-medical-200 flex items-center justify-center transition-all hover:scale-105 active:scale-95"
                                >
                                    <i class="fas fa-paper-plane text-xs"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Right: Quick Status -->
                    <div class="lg:col-span-4 space-y-6 overflow-y-auto">
                        <!-- Emotion Analysis Card -->
                        <div
                            class="bg-white rounded-3xl p-6 shadow-medical border border-slate-100 animate__animated animate__fadeInRight"
                        >
                            <h3
                                class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4"
                            >
                                Sentiment Intelligence
                            </h3>
                            <div id="sentiment-display" class="space-y-4">
                                <div
                                    class="flex items-center justify-between mb-1"
                                >
                                    <span
                                        class="text-sm font-bold text-slate-700"
                                        >Emotional State</span
                                    >
                                    <span
                                        class="text-[11px] font-bold text-medical-600 px-2 py-0.5 bg-medical-50 rounded-md"
                                        >NEUTRAL</span
                                    >
                                </div>
                                <div
                                    class="w-full bg-slate-100 h-2 rounded-full overflow-hidden"
                                >
                                    <div
                                        id="sentiment-bar"
                                        class="bg-medical-500 h-full w-[50%] transition-all duration-700 ease-out"
                                    ></div>
                                </div>
                                <p
                                    class="text-xs text-slate-500 leading-relaxed font-medium"
                                >
                                    Aurora is currently detecting a stable,
                                    neutral emotional baseline. Keep sharing to
                                    refine this analysis.
                                </p>
                            </div>
                        </div>

                        <!-- Daily Wisdom -->
                        <div
                            class="bg-medical-600 rounded-3xl p-6 shadow-lg shadow-medical-200 text-white animate__animated animate__fadeInRight animate__delay-1s"
                        >
                            <i
                                class="fas fa-quote-left text-medical-300 text-3xl mb-4 block"
                            ></i>
                            <p
                                class="text-sm font-medium leading-relaxed italic mb-4"
                                id="daily-quote"
                            >
                                "You don't have to see the whole staircase, just
                                take the first step."
                            </p>
                            <span
                                class="text-[10px] font-bold uppercase tracking-widest text-medical-200"
                                >â€” Martin Luther King Jr.</span
                            >
                        </div>

                        <!-- Rapid Access -->
                        <div
                            class="bg-white rounded-3xl p-6 shadow-medical border border-slate-100 animate__animated animate__fadeInRight animate__delay-2s"
                        >
                            <h3
                                class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4"
                            >
                                Crisis Hotlines
                            </h3>
                            <div class="space-y-3">
                                <a
                                    href="tel:988"
                                    class="flex items-center justify-between p-3 rounded-2xl bg-red-50 border border-red-100 group hover:bg-red-100 transition-colors"
                                >
                                    <div class="flex items-center space-x-3">
                                        <div
                                            class="w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center text-red-600 group-hover:bg-red-600 group-hover:text-white transition-colors"
                                        >
                                            <i
                                                class="fas fa-phone-alt text-xs"
                                            ></i>
                                        </div>
                                        <span
                                            class="text-xs font-bold text-red-700"
                                            >Crisis Lifeline</span
                                        >
                                    </div>
                                    <span
                                        class="text-xs font-black text-red-700"
                                        >988</span
                                    >
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mood Tracker Section -->
            <div id="mood-section" class="section-transition hidden-section">
                <div class="max-w-3xl mx-auto">
                    <div class="text-center mb-10">
                        <span
                            class="text-[11px] font-black text-medical-600 uppercase tracking-[0.3em] mb-3 block"
                            >Wellness Journal</span
                        >
                        <h2 class="text-4xl font-extrabold text-slate-900 mb-4">
                            How is your mind today?
                        </h2>
                        <p class="text-slate-500 font-medium">
                            Tracking your mood helps identify patterns and
                            triggers in your emotional journey.
                        </p>
                    </div>

                    <div
                        class="bg-white rounded-[2.5rem] p-10 shadow-medical border border-slate-100"
                    >
                        <div class="grid grid-cols-5 gap-4 mb-12">
                            <button
                                onclick="selectMood(1)"
                                class="mood-btn group transition-all duration-300"
                            >
                                <div
                                    class="aspect-square bg-red-50 rounded-3xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform"
                                >
                                    <i
                                        class="fas fa-angry text-3xl text-red-400 group-hover:text-red-500"
                                    ></i>
                                </div>
                                <span
                                    class="text-[10px] font-bold text-slate-400 uppercase tracking-widest block"
                                    >Struggling</span
                                >
                            </button>
                            <button
                                onclick="selectMood(2)"
                                class="mood-btn group transition-all duration-300"
                            >
                                <div
                                    class="aspect-square bg-orange-50 rounded-3xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform"
                                >
                                    <i
                                        class="fas fa-frown text-3xl text-orange-400 group-hover:text-orange-500"
                                    ></i>
                                </div>
                                <span
                                    class="text-[10px] font-bold text-slate-400 uppercase tracking-widest block"
                                    >Low</span
                                >
                            </button>
                            <button
                                onclick="selectMood(3)"
                                class="mood-btn group transition-all duration-300"
                            >
                                <div
                                    class="aspect-square bg-yellow-50 rounded-3xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform"
                                >
                                    <i
                                        class="fas fa-meh text-3xl text-yellow-400 group-hover:text-yellow-500"
                                    ></i>
                                </div>
                                <span
                                    class="text-[10px] font-bold text-slate-400 uppercase tracking-widest block"
                                    >Okay</span
                                >
                            </button>
                            <button
                                onclick="selectMood(4)"
                                class="mood-btn group transition-all duration-300"
                            >
                                <div
                                    class="aspect-square bg-blue-50 rounded-3xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform"
                                >
                                    <i
                                        class="fas fa-smile text-3xl text-blue-400 group-hover:text-blue-500"
                                    ></i>
                                </div>
                                <span
                                    class="text-[10px] font-bold text-slate-400 uppercase tracking-widest block"
                                    >Good</span
                                >
                            </button>
                            <button
                                onclick="selectMood(5)"
                                class="mood-btn group transition-all duration-300"
                            >
                                <div
                                    class="aspect-square bg-emerald-50 rounded-3xl flex items-center justify-center mb-2 group-hover:scale-110 transition-transform"
                                >
                                    <i
                                        class="fas fa-laugh-beam text-3xl text-emerald-400 group-hover:text-emerald-500"
                                    ></i>
                                </div>
                                <span
                                    class="text-[10px] font-bold text-slate-400 uppercase tracking-widest block"
                                    >Excellent</span
                                >
                            </button>
                        </div>

                        <div class="space-y-6">
                            <div>
                                <label
                                    class="block text-sm font-bold text-slate-700 mb-3"
                                    >Primary Emotion</label
                                >
                                <div
                                    class="grid grid-cols-2 sm:grid-cols-4 gap-3"
                                >
                                    <select
                                        id="emotion-select"
                                        class="col-span-full bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 text-sm font-semibold focus:ring-2 focus:ring-medical-200 outline-none transition-all"
                                    >
                                        <option value="neutral">
                                            Neutral Baseline
                                        </option>
                                        <option value="anxious">
                                            Anxious / Nervous
                                        </option>
                                        <option value="stressed">
                                            Stressed / Pressure
                                        </option>
                                        <option value="sad">
                                            Sad / Melancholy
                                        </option>
                                        <option value="grateful">
                                            Grateful / Appreciative
                                        </option>
                                        <option value="excited">
                                            Excited / High Energy
                                        </option>
                                    </select>
                                </div>
                            </div>

                            <div>
                                <label
                                    class="block text-sm font-bold text-slate-700 mb-3"
                                    >Reflections (Optional)</label
                                >
                                <textarea
                                    id="mood-notes"
                                    rows="4"
                                    class="w-full bg-slate-50 border border-slate-200 rounded-[2rem] px-6 py-4 text-sm font-medium focus:ring-2 focus:ring-medical-200 outline-none transition-all placeholder:text-slate-400"
                                    placeholder="What contributed to how you're feeling?..."
                                ></textarea>
                            </div>

                            <button
                                onclick="logMood()"
                                class="w-full bg-medical-600 hover:bg-medical-700 text-white font-bold py-4 rounded-3xl shadow-lg shadow-medical-100 transition-all hover:scale-[1.02] active:scale-[0.98]"
                            >
                                Complete Daily Entry
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Resources / Tools Section -->
            <div id="tools-section" class="section-transition hidden-section">
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Breathing Tool -->
                    <div
                        class="bg-white rounded-[2.5rem] p-8 shadow-medical border border-slate-100 group hover:shadow-medical-hover transition-all duration-500"
                    >
                        <div
                            class="w-14 h-14 bg-medical-50 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform"
                        >
                            <i
                                class="fas fa-wind text-medical-600 text-2xl"
                            ></i>
                        </div>
                        <h3 class="text-xl font-extrabold text-slate-900 mb-3">
                            4-7-8 Breathing
                        </h3>
                        <p
                            class="text-sm text-slate-500 leading-relaxed font-medium mb-8"
                        >
                            Reduce anxiety and lower your heart rate with this
                            medically recognized breathing pattern.
                        </p>

                        <div class="flex items-center space-x-4 mb-8">
                            <div
                                class="flex-1 h-1 bg-slate-100 rounded-full overflow-hidden"
                            >
                                <div
                                    class="bg-medical-500 h-full w-[35%]"
                                ></div>
                            </div>
                            <span
                                class="text-[10px] font-black text-slate-400 uppercase"
                                >5 Min Session</span
                            >
                        </div>

                        <button
                            onclick="startBreathingExercise()"
                            class="w-full bg-slate-900 hover:bg-medical-600 text-white font-bold py-4 rounded-2xl transition-all group-hover:shadow-lg group-hover:shadow-medical-100"
                        >
                            Enter Calm State
                        </button>
                    </div>

                    <!-- Grounding Tool -->
                    <div
                        class="bg-white rounded-[2.5rem] p-8 shadow-medical border border-slate-100 group hover:shadow-medical-hover transition-all duration-500"
                    >
                        <div
                            class="w-14 h-14 bg-wellness-sage rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform"
                        >
                            <i
                                class="fas fa-anchor text-emerald-600 text-2xl"
                            ></i>
                        </div>
                        <h3 class="text-xl font-extrabold text-slate-900 mb-3">
                            5-4-3-2-1 Grounding
                        </h3>
                        <p
                            class="text-sm text-slate-500 leading-relaxed font-medium mb-8"
                        >
                            Pull your mind back from racing thoughts by
                            reconnecting with your physical environment.
                        </p>

                        <div class="flex items-center space-x-4 mb-8">
                            <div
                                class="flex-1 h-1 bg-slate-100 rounded-full overflow-hidden"
                            >
                                <div
                                    class="bg-emerald-500 h-full w-[60%]"
                                ></div>
                            </div>
                            <span
                                class="text-[10px] font-black text-slate-400 uppercase"
                                >Interactive</span
                            >
                        </div>

                        <button
                            onclick="startGroundingExercise()"
                            class="w-full bg-slate-900 hover:bg-emerald-600 text-white font-bold py-4 rounded-2xl transition-all group-hover:shadow-lg group-hover:shadow-emerald-100"
                        >
                            Begin Grounding
                        </button>
                    </div>

                    <!-- Journaling Tool -->
                    <div
                        class="bg-white rounded-[2.5rem] p-8 shadow-medical border border-slate-100 group hover:shadow-medical-hover transition-all duration-500"
                    >
                        <div
                            class="w-14 h-14 bg-purple-50 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform"
                        >
                            <i
                                class="fas fa-feather-pointed text-purple-600 text-2xl"
                            ></i>
                        </div>
                        <h3 class="text-xl font-extrabold text-slate-900 mb-3">
                            Cognitive Reframing
                        </h3>
                        <p
                            class="text-sm text-slate-500 leading-relaxed font-medium mb-8"
                        >
                            Work through negative thought patterns and transform
                            them into productive perspectives.
                        </p>

                        <div class="flex items-center space-x-4 mb-8">
                            <div
                                class="flex-1 h-1 bg-slate-100 rounded-full overflow-hidden"
                            >
                                <div class="bg-purple-500 h-full w-[45%]"></div>
                            </div>
                            <span
                                class="text-[10px] font-black text-slate-400 uppercase"
                                >Self-Guided</span
                            >
                        </div>

                        <button
                            onclick="startJournaling()"
                            class="w-full bg-slate-900 hover:bg-purple-600 text-white font-bold py-4 rounded-2xl transition-all group-hover:shadow-lg group-hover:shadow-purple-100"
                        >
                            Start Reframing
                        </button>
                    </div>
                </div>
            </div>

            <!-- Dashboard Section -->
            <div
                id="dashboard-section"
                class="section-transition hidden-section"
            >
                <div class="grid lg:grid-cols-3 gap-8 mb-8">
                    <!-- Streak Card -->
                    <div
                        class="bg-white rounded-[2rem] p-8 shadow-medical border border-slate-100 flex flex-col items-center text-center"
                    >
                        <div
                            class="w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-4 pulse-soft"
                        >
                            <i class="fas fa-fire text-orange-500 text-3xl"></i>
                        </div>
                        <span
                            class="text-4xl font-black text-slate-900 mb-1"
                            id="streak-count"
                            >0</span
                        >
                        <span
                            class="text-[10px] font-black text-slate-400 uppercase tracking-widest"
                            >Day Wellness Streak</span
                        >
                    </div>

                    <!-- Mood Score Card -->
                    <div
                        class="bg-white rounded-[2rem] p-8 shadow-medical border border-slate-100 flex flex-col items-center text-center"
                    >
                        <div
                            class="w-20 h-20 bg-medical-50 rounded-full flex items-center justify-center mb-4"
                        >
                            <i
                                class="fas fa-chart-line text-medical-600 text-3xl"
                            ></i>
                        </div>
                        <span
                            class="text-4xl font-black text-slate-900 mb-1"
                            id="week-average"
                            >--</span
                        >
                        <span
                            class="text-[10px] font-black text-slate-400 uppercase tracking-widest"
                            >Avg Mood This Week</span
                        >
                    </div>

                    <!-- Support Level Card -->
                    <div
                        class="bg-white rounded-[2rem] p-8 shadow-medical border border-slate-100 flex flex-col items-center text-center"
                    >
                        <div
                            class="w-20 h-20 bg-emerald-50 rounded-full flex items-center justify-center mb-4"
                        >
                            <i
                                class="fas fa-shield-heart text-emerald-600 text-3xl"
                            ></i>
                        </div>
                        <span class="text-4xl font-black text-slate-900 mb-1"
                            >94%</span
                        >
                        <span
                            class="text-[10px] font-black text-slate-400 uppercase tracking-widest"
                            >Support Coverage</span
                        >
                    </div>
                </div>

                <!-- Chart Simulation Area -->
                <div
                    class="bg-white rounded-[2.5rem] p-8 shadow-medical border border-slate-100 mb-8"
                >
                    <div class="flex items-center justify-between mb-8">
                        <div>
                            <h3 class="text-xl font-black text-slate-900">
                                Emotional Trends
                            </h3>
                            <p class="text-xs text-slate-500 font-medium">
                                Your mood trajectory over the last 14 days
                            </p>
                        </div>
                        <div class="flex space-x-2">
                            <button
                                class="px-4 py-1.5 bg-medical-50 text-medical-600 rounded-full text-xs font-bold"
                            >
                                14D
                            </button>
                            <button
                                class="px-4 py-1.5 bg-slate-50 text-slate-400 rounded-full text-xs font-bold"
                            >
                                30D
                            </button>
                        </div>
                    </div>
                    <!-- Placeholder for Chart -->
                    <div
                        class="h-64 bg-slate-50 rounded-3xl border-2 border-dashed border-slate-100 flex items-center justify-center"
                    >
                        <div class="text-center">
                            <i
                                class="fas fa-wave-square text-slate-200 text-5xl mb-4"
                            ></i>
                            <p
                                class="text-xs font-bold text-slate-300 uppercase tracking-widest"
                            >
                                Visual Analysis Loading...
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Breathing Modal -->
        <div id="breathing-modal" class="fixed inset-0 z-[60] hidden">
            <div
                class="absolute inset-0 bg-slate-900/95 backdrop-blur-xl"
            ></div>
            <div
                class="relative h-full flex flex-col items-center justify-center p-8 text-center"
            >
                <button
                    onclick="closeBreathing()"
                    class="absolute top-8 right-8 text-white/50 hover:text-white transition-colors"
                >
                    <i class="fas fa-times text-2xl"></i>
                </button>

                <div
                    class="w-64 h-64 bg-medical-500/20 rounded-full flex items-center justify-center breathing-animation border-4 border-medical-500/30 mb-12"
                >
                    <div
                        class="w-48 h-48 bg-medical-500 rounded-full flex items-center justify-center shadow-2xl shadow-medical-500/50"
                    >
                        <span
                            id="breathing-instruction"
                            class="text-2xl font-black text-white uppercase tracking-tighter"
                            >Inhale</span
                        >
                    </div>
                </div>

                <h2 class="text-white text-3xl font-extrabold mb-4">
                    4-7-8 Deep Breathing
                </h2>
                <p class="text-white/60 font-medium max-w-sm">
                    Follow the animation. Let your body release tension with
                    every exhale.
                </p>
            </div>
        </div>

        <!-- Scripts -->
        <script>
            // State Management
            let currentSection = "chat";
            let currentMood = 0;
            let moodHistory = JSON.parse(
                localStorage.getItem("moodHistory") || "[]",
            );
            let streak = localStorage.getItem("streak") || 0;
            let userId = localStorage.getItem("userId") || "demo-user";

            // Auto-register demo user on load
            window.addEventListener("DOMContentLoaded", async () => {
                try {
                    const response = await fetch(
                        "http://localhost:8000/api/v1/users/register",
                        {
                            method: "POST",
                            headers: { "Content-Type": "application/json" },
                            body: JSON.stringify({
                                preferred_coping_tools: [
                                    "breathing",
                                    "grounding",
                                ],
                                notification_preferences: { daily: true },
                                privacy_settings: { private: true },
                            }),
                        },
                    );

                    if (response.ok) {
                        const data = await response.json();
                        if (data.user_id) {
                            userId = data.user_id;
                            localStorage.setItem("userId", userId);
                            console.log("Demo user registered:", userId);
                        }
                    }
                } catch (err) {
                    console.log("Using local demo mode");
                }
            });

            function showSection(sectionId) {
                // Update UI State
                document
                    .querySelectorAll(".section-transition")
                    .forEach((el) => {
                        el.classList.add("hidden-section");
                        el.classList.remove("visible-section");
                    });

                const target = document.getElementById(`${sectionId}-section`);
                target.classList.remove("hidden-section");
                target.classList.add("visible-section");

                // Update Nav Links
                document.querySelectorAll(".nav-link").forEach((el) => {
                    el.classList.remove("nav-link-active", "text-medical-600");
                    el.classList.add("text-slate-500");
                });
                document
                    .getElementById(`nav-${sectionId}`)
                    .classList.add("nav-link-active", "text-medical-600");
                document
                    .getElementById(`nav-${sectionId}`)
                    .classList.remove("text-slate-500");

                currentSection = sectionId;
            }

            function handleChatKeyPress(e) {
                if (e.key === "Enter") sendChatMessage();
            }

            async function sendChatMessage() {
                const input = document.getElementById("chat-input");
                const message = input.value.trim();
                if (!message) return;

                appendMessage("user", message);
                input.value = "";

                // Show typing indicator
                showTypingIndicator();

                try {
                    // Call actual backend with proper URL
                    const response = await fetch(
                        "http://localhost:8000/api/v1/chat/message",
                        {
                            method: "POST",
                            headers: { "Content-Type": "application/json" },
                            body: JSON.stringify({
                                user_id: userId,
                                message: message,
                                session_id: "demo-session",
                            }),
                        },
                    );

                    if (response.ok) {
                        const data = await response.json();
                        hideTypingIndicator();
                        appendMessage("bot", data.message);
                        updateSentimentUI(
                            data.emotion_detected?.primary_emotion || "NEUTRAL",
                        );
                    } else {
                        throw new Error("API call failed");
                    }
                } catch (err) {
                    hideTypingIndicator();
                    appendMessage(
                        "bot",
                        "I hear you, and I'm here for you. It takes a lot of courage to share what's on your mind. How long have you been feeling this way?",
                    );
                    updateSentimentUI("NEUTRAL");
                }
            }

            function sendQuickMessage(text) {
                document.getElementById("chat-input").value = text;
                sendChatMessage();
            }

            function appendMessage(role, text) {
                const container = document.getElementById("chat-messages");
                const time = new Date().toLocaleTimeString([], {
                    hour: "2-digit",
                    minute: "2-digit",
                });

                const div = document.createElement("div");
                div.className = `flex items-start space-x-3 animate__animated animate__fadeInUp ${role === "user" ? "flex-row-reverse space-x-reverse" : ""}`;

                const iconBg =
                    role === "user" ? "bg-slate-100" : "bg-medical-50";
                const icon = role === "user" ? "fa-user" : "fa-robot";
                const iconColor =
                    role === "user" ? "text-slate-500" : "text-medical-500";

                const bubbleBg =
                    role === "user"
                        ? "bg-slate-800 text-white"
                        : "bg-white border border-slate-100 text-slate-800";
                const footerColor =
                    role === "user" ? "text-slate-400" : "text-slate-400";
                const radius =
                    role === "user" ? "rounded-tr-none" : "rounded-tl-none";

                div.innerHTML = `
                <div class="w-8 h-8 ${iconBg} rounded-lg flex items-center justify-center flex-shrink-0 mt-1">
                    <i class="fas ${icon} ${iconColor} text-xs"></i>
                </div>
                <div class="chat-bubble ${bubbleBg} px-5 py-3 rounded-2xl ${radius} shadow-sm border border-slate-100/50">
                    <p class="text-sm leading-relaxed font-medium">${text}</p>
                    <span class="text-[10px] ${footerColor} mt-2 block font-black uppercase tracking-widest">${role === "user" ? "YOU" : "AURORA"} â€¢ ${time}</span>
                </div>
            `;

                container.appendChild(div);
                container.scrollTop = container.scrollHeight;
            }

            function updateSentimentUI(emotion) {
                const bar = document.getElementById("sentiment-bar");
                const label = document.querySelector(
                    "#sentiment-display span:last-child",
                );

                label.innerText = emotion.toUpperCase();

                const widths = {
                    NEUTRAL: "50%",
                    ANXIOUS: "75%",
                    STRESSED: "85%",
                    SAD: "65%",
                    POSITIVE: "30%",
                    EMPATHETIC: "45%",
                };

                bar.style.width = widths[emotion.toUpperCase()] || "50%";
            }

            function selectMood(score) {
                currentMood = score;
                document.querySelectorAll(".mood-btn").forEach((btn, idx) => {
                    const box = btn.querySelector("div");
                    if (idx + 1 === score) {
                        box.classList.add(
                            "ring-4",
                            "ring-medical-200",
                            "scale-110",
                        );
                    } else {
                        box.classList.remove(
                            "ring-4",
                            "ring-medical-200",
                            "scale-110",
                        );
                    }
                });
            }

            function showTypingIndicator() {
                const container = document.getElementById("chat-messages");
                const div = document.createElement("div");
                div.id = "typing-indicator";
                div.className = "flex items-center space-x-2 p-2";
                div.innerHTML = `
                <div class="w-6 h-6 bg-medical-50 rounded-lg flex items-center justify-center">
                    <i class="fas fa-robot text-medical-500 text-[10px]"></i>
                </div>
                <div class="flex space-x-1">
                    <div class="w-1.5 h-1.5 bg-medical-400 rounded-full animate-bounce"></div>
                    <div class="w-1.5 h-1.5 bg-medical-400 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                    <div class="w-1.5 h-1.5 bg-medical-400 rounded-full animate-bounce" style="animation-delay: 0.4s"></div>
                </div>
            `;
                container.appendChild(div);
                container.scrollTop = container.scrollHeight;
            }

            function hideTypingIndicator() {
                const el = document.getElementById("typing-indicator");
                if (el) el.remove();
            }

            // Breathing Exercise
            let breathingTimer;
            function startBreathingExercise() {
                document
                    .getElementById("breathing-modal")
                    .classList.remove("hidden");
                let cycle = 0;
                const instructions = ["Inhale", "Hold", "Exhale"];
                const instructionEl = document.getElementById(
                    "breathing-instruction",
                );

                const runCycle = () => {
                    instructionEl.innerText = instructions[cycle % 3];
                    cycle++;
                    breathingTimer = setTimeout(runCycle, 4000);
                };
                runCycle();
            }

            function closeBreathing() {
                document
                    .getElementById("breathing-modal")
                    .classList.add("hidden");
                clearTimeout(breathingTimer);
            }

            function logMood() {
                if (currentMood === 0) {
                    alert("Please select a mood score first.");
                    return;
                }
                alert(
                    "Your mood has been securely logged. Aurora will use this to personalize your experience.",
                );
                showSection("dashboard");
            }

            // Initialize
            window.onload = () => {
                document.getElementById("streak-count").innerText = streak;
            };
        </script>
    </body>
</html>
